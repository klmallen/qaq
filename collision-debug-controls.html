<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç¢°æ’è°ƒè¯•æ§åˆ¶é¢æ¿</title>
    <style>
        body {
            margin: 0;
            padding: 20px;
            background: #1a1a1a;
            color: white;
            font-family: 'Consolas', 'Monaco', monospace;
        }
        .panel {
            background: rgba(0, 0, 0, 0.9);
            border: 2px solid #00ff00;
            border-radius: 10px;
            padding: 20px;
            max-width: 600px;
            margin: 0 auto;
        }
        .panel h1 {
            color: #00ff00;
            text-align: center;
            margin-bottom: 30px;
        }
        .section {
            margin-bottom: 25px;
            padding: 15px;
            background: rgba(0, 255, 0, 0.1);
            border-radius: 5px;
        }
        .section h3 {
            color: #00ff00;
            margin-top: 0;
        }
        .command {
            background: #333;
            padding: 10px;
            border-radius: 5px;
            margin: 10px 0;
            font-family: 'Consolas', 'Monaco', monospace;
            border-left: 4px solid #00ff00;
        }
        .command code {
            color: #ffff00;
        }
        .description {
            color: #ccc;
            font-size: 14px;
            margin-top: 5px;
        }
        .button {
            background: #333;
            color: white;
            border: 1px solid #00ff00;
            padding: 10px 15px;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
            display: inline-block;
        }
        .button:hover {
            background: #00ff00;
            color: black;
        }
        .status {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(0, 0, 0, 0.8);
            padding: 10px;
            border-radius: 5px;
            border: 1px solid #00ff00;
        }
    </style>
</head>
<body>
    <div class="status" id="status">
        <div>çŠ¶æ€: <span id="statusText">ç­‰å¾…åˆå§‹åŒ–...</span></div>
    </div>

    <div class="panel">
        <h1>ğŸ” ç¢°æ’è°ƒè¯•æ§åˆ¶é¢æ¿</h1>
        
        <div class="section">
            <h3>ğŸ“‹ ä½¿ç”¨è¯´æ˜</h3>
            <p>1. é¦–å…ˆè®¿é—® <strong>/demo-3d</strong> é¡µé¢</p>
            <p>2. ç­‰å¾…3Dåœºæ™¯åŠ è½½å®Œæˆ</p>
            <p>3. ä½¿ç”¨WASDé”®ç§»åŠ¨è§’è‰²ï¼ŒQ/Eé”®æ—‹è½¬</p>
            <p>4. ä½¿ç”¨ä¸‹é¢çš„æ§åˆ¶å°å‘½ä»¤æˆ–æŒ‰é’®æ§åˆ¶ç¢°æ’è°ƒè¯•</p>
        </div>

        <div class="section">
            <h3>ğŸƒ è§’è‰²ç§»åŠ¨æ§åˆ¶</h3>
            <div class="command">
                <strong>é”®ç›˜æ§åˆ¶:</strong><br>
                â€¢ WASD/æ–¹å‘é”®: ç§»åŠ¨è§’è‰²<br>
                â€¢ Q/E: æ—‹è½¬è§’è‰²<br>
                â€¢ ç§»åŠ¨æ—¶ä¼šå®æ—¶æ£€æµ‹ç¢°æ’å¹¶åœ¨æ§åˆ¶å°æ˜¾ç¤º
            </div>
        </div>

        <div class="section">
            <h3>ğŸ® è½¨é“æ§åˆ¶å™¨</h3>
            <div class="command">
                <strong>é¼ æ ‡æ§åˆ¶:</strong><br>
                â€¢ å·¦é”®æ‹–æ‹½: æ—‹è½¬ç›¸æœº<br>
                â€¢ å³é”®æ‹–æ‹½: å¹³ç§»ç›¸æœº<br>
                â€¢ æ»šè½®: ç¼©æ”¾
            </div>
        </div>

        <div class="section">
            <h3>ğŸ” ç¢°æ’è°ƒè¯•å‘½ä»¤</h3>
            
            <div class="command">
                <code>debugControls.toggleAllCollisionDebug(true)</code>
                <div class="description">æ˜¾ç¤ºæ‰€æœ‰ç¢°æ’åŒ…å›´ç›’</div>
                <button class="button" onclick="toggleDebug(true)">æ˜¾ç¤ºç¢°æ’</button>
                <button class="button" onclick="toggleDebug(false)">éšè—ç¢°æ’</button>
            </div>

            <div class="command">
                <code>debugControls.setAllCollisionDebugColor(0xff0000)</code>
                <div class="description">è®¾ç½®ç¢°æ’è°ƒè¯•é¢œè‰²</div>
                <button class="button" onclick="setColor(0xff0000)">çº¢è‰²</button>
                <button class="button" onclick="setColor(0x00ff00)">ç»¿è‰²</button>
                <button class="button" onclick="setColor(0x0000ff)">è“è‰²</button>
                <button class="button" onclick="setColor(0xffff00)">é»„è‰²</button>
            </div>

            <div class="command">
                <code>debugControls.setAllCollisionDebugOpacity(0.5)</code>
                <div class="description">è®¾ç½®ç¢°æ’è°ƒè¯•é€æ˜åº¦</div>
                <button class="button" onclick="setOpacity(0.1)">10%</button>
                <button class="button" onclick="setOpacity(0.3)">30%</button>
                <button class="button" onclick="setOpacity(0.5)">50%</button>
                <button class="button" onclick="setOpacity(0.8)">80%</button>
            </div>

            <div class="command">
                <code>debugControls.help()</code>
                <div class="description">æ˜¾ç¤ºå®Œæ•´å¸®åŠ©ä¿¡æ¯</div>
                <button class="button" onclick="showHelp()">æ˜¾ç¤ºå¸®åŠ©</button>
            </div>
        </div>

        <div class="section">
            <h3>ğŸ§ª ç¢°æ’æµ‹è¯•æ§åˆ¶</h3>

            <div class="command">
                <code>debugControls.testCollision()</code>
                <div class="description">æµ‹è¯•å½“å‰è§’è‰²ç¢°æ’çŠ¶æ€</div>
                <button class="button" onclick="testCollision()">æµ‹è¯•ç¢°æ’</button>
            </div>

            <div class="command">
                <code>debugControls.testCollisionWithCubeA()</code>
                <div class="description">å¿«é€Ÿæµ‹è¯•ä¸ç«‹æ–¹ä½“Açš„ç¢°æ’</div>
                <button class="button" onclick="testCubeA()">æµ‹è¯•ç«‹æ–¹ä½“A</button>
            </div>

            <div class="command">
                <code>debugControls.testCollisionWithCubeB()</code>
                <div class="description">å¿«é€Ÿæµ‹è¯•ä¸ç«‹æ–¹ä½“Bçš„ç¢°æ’</div>
                <button class="button" onclick="testCubeB()">æµ‹è¯•ç«‹æ–¹ä½“B</button>
            </div>

            <div class="command">
                <code>debugControls.resetCharacterPosition()</code>
                <div class="description">é‡ç½®è§’è‰²åˆ°åŸç‚¹</div>
                <button class="button" onclick="resetPosition()">é‡ç½®ä½ç½®</button>
            </div>

            <div class="command">
                <code>debugControls.moveCharacterTo(x, y, z)</code>
                <div class="description">ç§»åŠ¨è§’è‰²åˆ°æŒ‡å®šä½ç½®</div>
                <button class="button" onclick="moveToCustom()">è‡ªå®šä¹‰ç§»åŠ¨</button>
            </div>
        </div>

        <div class="section">
            <h3>ğŸ¯ å•ä¸ªå¯¹è±¡æ§åˆ¶</h3>
            <div class="command">
                <code>character.toggleCollisionDebug(true)</code>
                <div class="description">æ§åˆ¶è§’è‰²ç¢°æ’è°ƒè¯•</div>
                <button class="button" onclick="toggleCharacter(true)">æ˜¾ç¤ºè§’è‰²</button>
                <button class="button" onclick="toggleCharacter(false)">éšè—è§’è‰²</button>
            </div>

            <div class="command">
                <code>cubeA.toggleCollisionDebug(true)</code>
                <div class="description">æ§åˆ¶ç«‹æ–¹ä½“Aç¢°æ’è°ƒè¯•</div>
                <button class="button" onclick="toggleCubeA(true)">æ˜¾ç¤ºç«‹æ–¹ä½“A</button>
                <button class="button" onclick="toggleCubeA(false)">éšè—ç«‹æ–¹ä½“A</button>
            </div>

            <div class="command">
                <code>cubeB.toggleCollisionDebug(true)</code>
                <div class="description">æ§åˆ¶ç«‹æ–¹ä½“Bç¢°æ’è°ƒè¯•</div>
                <button class="button" onclick="toggleCubeB(true)">æ˜¾ç¤ºç«‹æ–¹ä½“B</button>
                <button class="button" onclick="toggleCubeB(false)">éšè—ç«‹æ–¹ä½“B</button>
            </div>
        </div>
    </div>

    <script>
        // çŠ¶æ€æ›´æ–°
        function updateStatus(text, color = '#00ff00') {
            const statusText = document.getElementById('statusText')
            statusText.textContent = text
            statusText.style.color = color
        }

        // æ£€æŸ¥è°ƒè¯•æ§åˆ¶å™¨æ˜¯å¦å¯ç”¨
        function checkDebugControls() {
            if (window.debugControls) {
                updateStatus('è°ƒè¯•æ§åˆ¶å™¨å·²å°±ç»ª', '#00ff00')
                return true
            } else {
                updateStatus('ç­‰å¾…è°ƒè¯•æ§åˆ¶å™¨åˆå§‹åŒ–...', '#ffff00')
                return false
            }
        }

        // æ§åˆ¶å‡½æ•°
        function toggleDebug(visible) {
            if (checkDebugControls()) {
                window.debugControls.toggleAllCollisionDebug(visible)
            }
        }

        function setColor(color) {
            if (checkDebugControls()) {
                window.debugControls.setAllCollisionDebugColor(color)
            }
        }

        function setOpacity(opacity) {
            if (checkDebugControls()) {
                window.debugControls.setAllCollisionDebugOpacity(opacity)
            }
        }

        function showHelp() {
            if (checkDebugControls()) {
                window.debugControls.help()
            } else {
                console.log('è¯·å…ˆè®¿é—® /demo-3d é¡µé¢åŠ è½½è°ƒè¯•æ§åˆ¶å™¨')
            }
        }

        function toggleCharacter(visible) {
            if (window.character && window.character.toggleCollisionDebug) {
                window.character.toggleCollisionDebug(visible)
            } else {
                console.log('è§’è‰²å¯¹è±¡æœªæ‰¾åˆ°ï¼Œè¯·ç¡®ä¿å·²è®¿é—® /demo-3d é¡µé¢')
            }
        }

        function toggleCubeA(visible) {
            if (window.cubeA && window.cubeA.toggleCollisionDebug) {
                window.cubeA.toggleCollisionDebug(visible)
            } else {
                console.log('ç«‹æ–¹ä½“Aå¯¹è±¡æœªæ‰¾åˆ°ï¼Œè¯·ç¡®ä¿å·²è®¿é—® /demo-3d é¡µé¢')
            }
        }

        function toggleCubeB(visible) {
            if (window.cubeB && window.cubeB.toggleCollisionDebug) {
                window.cubeB.toggleCollisionDebug(visible)
            } else {
                console.log('ç«‹æ–¹ä½“Bå¯¹è±¡æœªæ‰¾åˆ°ï¼Œè¯·ç¡®ä¿å·²è®¿é—® /demo-3d é¡µé¢')
            }
        }

        // ç¢°æ’æµ‹è¯•å‡½æ•°
        function testCollision() {
            if (window.debugControls) {
                window.debugControls.testCollision()
            } else {
                console.log('è¯·å…ˆè®¿é—® /demo-3d é¡µé¢åŠ è½½è°ƒè¯•æ§åˆ¶å™¨')
            }
        }

        function testCubeA() {
            if (window.debugControls) {
                window.debugControls.testCollisionWithCubeA()
            } else {
                console.log('è¯·å…ˆè®¿é—® /demo-3d é¡µé¢åŠ è½½è°ƒè¯•æ§åˆ¶å™¨')
            }
        }

        function testCubeB() {
            if (window.debugControls) {
                window.debugControls.testCollisionWithCubeB()
            } else {
                console.log('è¯·å…ˆè®¿é—® /demo-3d é¡µé¢åŠ è½½è°ƒè¯•æ§åˆ¶å™¨')
            }
        }

        function resetPosition() {
            if (window.debugControls) {
                window.debugControls.resetCharacterPosition()
            } else {
                console.log('è¯·å…ˆè®¿é—® /demo-3d é¡µé¢åŠ è½½è°ƒè¯•æ§åˆ¶å™¨')
            }
        }

        function moveToCustom() {
            const x = prompt('è¾“å…¥Xåæ ‡:', '0')
            const y = prompt('è¾“å…¥Yåæ ‡:', '0')
            const z = prompt('è¾“å…¥Zåæ ‡:', '0')

            if (x !== null && y !== null && z !== null) {
                if (window.debugControls) {
                    window.debugControls.moveCharacterTo(parseFloat(x), parseFloat(y), parseFloat(z))
                } else {
                    console.log('è¯·å…ˆè®¿é—® /demo-3d é¡µé¢åŠ è½½è°ƒè¯•æ§åˆ¶å™¨')
                }
            }
        }

        // å®šæœŸæ£€æŸ¥çŠ¶æ€
        setInterval(checkDebugControls, 2000)

        // åˆå§‹åŒ–
        window.addEventListener('load', () => {
            console.log('ğŸ® ç¢°æ’è°ƒè¯•æ§åˆ¶é¢æ¿å·²åŠ è½½')
            console.log('è¯·è®¿é—® /demo-3d é¡µé¢æŸ¥çœ‹å®é™…æ•ˆæœ')
            checkDebugControls()
        })
    </script>
</body>
</html>
